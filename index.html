<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="manifest" href="manifest.json">
    <title>TITAN V13 - MAHADHARE GOLD ULTIMATE</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Space+Grotesk:wght@300;500;700&display=swap');
        :root { --gold: #ffd700; --emerald: #10b981; --glass: rgba(10, 10, 18, 0.98); }
        body { background: #020308; color: #e2e8f0; font-family: 'Space Grotesk', sans-serif; overflow: hidden; height: 100vh; user-select: none; }
        .titan-font { font-family: 'Orbitron', sans-serif; }
        .glass-premium { background: var(--glass); backdrop-filter: blur(25px); border: 1px solid rgba(255, 215, 0, 0.15); border-radius: 1.5rem; }
        .btn-gold { background: linear-gradient(135deg, #ffd700 0%, #b8860b 100%); color: black; font-weight: 900; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .card-scroll { height: calc(100vh - 450px); overflow-y: auto; scroll-behavior: smooth; }
        .price-line { stroke: var(--gold); stroke-width: 2.5; fill: none; filter: drop-shadow(0 0 5px var(--gold)); }
        #master-eye-trigger { width: 50px; height: 50px; position: fixed; top: 0; left: 0; z-index: 999999; cursor: pointer; }
        @keyframes scan { 0% { top: 0; } 100% { top: 100%; } }
        .scanner-line { position: absolute; width: 100%; height: 2px; background: var(--emerald); box-shadow: 0 0 15px var(--emerald); animation: scan 2s linear infinite; }
        .notif-toast { animation: slideIn 0.5s ease-out forwards; }
        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
    </style>
</head>
<body class="no-scrollbar">

    <div id="master-eye-trigger" onclick="backdoorMaster()"></div>

    <div id="modal-container"></div>
    <div id="notif-area" class="fixed top-4 right-4 z-[100000] flex flex-col gap-2 pointer-events-none"></div>

    <div id="login-gate" class="fixed inset-0 z-[50000] bg-[#020308] flex flex-col items-center p-8 overflow-y-auto">
        <div class="mt-10 mb-8 flex flex-col items-center">
            <div id="biometric-box" class="w-32 h-32 glass-premium border-yellow-500/50 flex items-center justify-center relative overflow-hidden mb-4">
                <i class="fa-solid fa-eye text-5xl text-yellow-500 drop-shadow-[0_0_15px_#ffd700]"></i>
                <div id="scanner" class="scanner-line hidden"></div>
                <video id="webcam" class="absolute inset-0 w-full h-full object-cover hidden" autoplay playsinline muted></video>
            </div>
            <h1 class="titan-font text-2xl text-yellow-500 tracking-[0.2em]">TITAN V.13</h1>
            <p class="text-[8px] opacity-40 tracking-[0.5em] uppercase">Mahadhare Gold Ultimate</p>
        </div>

        <div id="auth-forms" class="w-full max-w-sm space-y-4">
            <div id="form-content" class="space-y-4">
                <input type="tel" id="user-id" placeholder="TELEGRAM CHAT ID (9-10 Digit)" class="w-full bg-white/5 p-4 rounded-xl border border-white/10 text-white text-center outline-none focus:border-yellow-500 titan-font text-sm">
                <input type="password" id="user-pass" placeholder="SECURITY PASSWORD" class="w-full bg-white/5 p-4 rounded-xl border border-white/10 text-white text-center outline-none font-black tracking-widest focus:border-yellow-500">
                <button onclick="processAuth()" class="btn-gold w-full py-4 titan-font rounded-xl shadow-lg">Authenticate Identity</button>
            </div>
            <div class="flex justify-between items-center px-2">
                <button onclick="window.open('https://t.me/userinfobot')" class="text-[8px] text-blue-400 uppercase font-black">Dapatkan Chat ID</button>
                <span id="auth-toggle" onclick="toggleAuthMode()" class="text-[8px] text-white/30 uppercase cursor-pointer">Pindah ke Login</span>
            </div>
        </div>
    </div>

    <div id="app-ui" class="hidden h-full flex flex-col">
        <header class="p-5 flex justify-between items-center bg-black/50 border-b border-white/5">
            <div class="flex items-center gap-3">
                <i class="fa-solid fa-crown text-yellow-500 text-xl"></i>
                <div>
                    <p id="status-label" class="text-[8px] text-yellow-500 font-bold uppercase tracking-widest">LEVEL 1: STANDARD</p>
                    <p id="time-wib" class="text-[7px] text-emerald-500 font-bold titan-font">00:00:00 WIB</p>
                </div>
            </div>
            <div class="flex gap-4 items-center">
                <div id="api-indicator" class="flex items-center gap-1.5 px-2 py-1 bg-emerald-500/10 rounded-full border border-emerald-500/20">
                    <div class="w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"></div>
                    <span class="text-[6px] titan-font text-emerald-500">API SYNC</span>
                </div>
                <i onclick="showTutorial()" class="fa-solid fa-book-open text-yellow-500 text-lg cursor-pointer"></i>
                <i onclick="showLogoutModal()" class="fa-solid fa-power-off text-rose-500 text-lg cursor-pointer"></i>
            </div>
        </header>

        <main class="flex-1 overflow-y-auto p-4 pb-32 no-scrollbar">
            <section class="glass-premium p-6 text-center mb-6 relative overflow-hidden">
                <div class="flex justify-between items-center mb-1">
                    <p class="text-[8px] opacity-40 uppercase tracking-[0.3em]">Equity (Auto-Compound)</p>
                    <span id="expiry-label" class="text-[7px] text-blue-400 font-black uppercase">Active: 30 Days</span>
                </div>
                <h2 id="balance" class="titan-font text-4xl text-yellow-500 font-black mb-4 tracking-tighter">Rp 0</h2>
                <div class="grid grid-cols-3 gap-2">
                    <div class="bg-white/5 p-2 rounded-xl text-[7px] font-black uppercase border border-white/5">
                        <p class="opacity-40 mb-1">Scalp (40%)</p><p id="v-scalp" class="text-white">Rp 0</p>
                    </div>
                    <div class="bg-white/5 p-2 rounded-xl text-[7px] font-black uppercase border border-white/5">
                        <p class="opacity-40 mb-1">Smart (40%)</p><p id="v-smart" class="text-white">Rp 0</p>
                    </div>
                    <div class="bg-white/5 p-2 rounded-xl text-[7px] font-black uppercase border border-white/5">
                        <p class="opacity-40 mb-1">Moon (20%)</p><p id="v-moon" class="text-white">Rp 0</p>
                    </div>
                </div>
            </section>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div>
                    <h3 class="titan-font text-[9px] text-emerald-400 uppercase tracking-widest mb-3 flex justify-between">
                        Radar Mata Dewa <span>XP: <span id="xp-count">0</span>/150</span>
                    </h3>
                    <div id="radar-container" class="card-scroll space-y-3 pr-1"></div>
                </div>

                <div>
                    <h3 class="titan-font text-[9px] text-blue-400 uppercase tracking-widest mb-3 flex justify-between">
                        Guard Room <span id="slot-info">Slots: 0/10</span>
                    </h3>
                    <div id="execution-container" class="card-scroll space-y-3 pr-1"></div>
                </div>

                <div>
                    <h3 class="titan-font text-[9px] text-yellow-500 uppercase tracking-widest mb-3">History Vault</h3>
                    <div id="history-container" class="card-scroll space-y-2 pr-1 opacity-60"></div>
                </div>
            </div>
        </main>

        <nav class="fixed bottom-0 w-full bg-black/90 backdrop-blur-md p-5 flex justify-around items-center border-t border-white/5 z-50">
            <button onclick="openLink('IDX')"><img src="https://indodax.com/favicon.ico" class="w-6 h-6 grayscale hover:grayscale-0"></button>
            <button onclick="openLink('TG')"><i class="fa-solid fa-paper-plane text-xl text-sky-400"></i></button>
            <div onclick="smartScan()" class="w-14 h-14 bg-yellow-500 rounded-full flex items-center justify-center -mt-10 shadow-[0_0_30px_rgba(255,215,0,0.4)] cursor-pointer active:scale-90 transition-all">
                <i class="fa-solid fa-bolt text-black text-xl"></i>
            </div>
            <button onclick="openLink('JU')"><i class="fa-solid fa-rocket text-xl text-emerald-400"></i></button>
            <button onclick="openLink('GA')"><i class="fa-solid fa-globe text-xl text-blue-400"></i></button>
        </nav>
    </div>

    <script>
        /**
         * TITAN V13 - SUPREME LOGIC ENGINE
         * Base64 Obfuscation for Military Security
         */
        const _C = {
            T: "ODI5NTYwNzcwNDpBQUZkeV9VOGJGTC14Mk9sOTBuOGYyS0RPSHp0eWJjdWo0",
            G: "LTEwMDMyNTQzNzkzMzM=",
            IDX: "aHR0cHM6Ly9pbmRvZGF4Lm9uZWxpbmsubWUvcXlZWS9yZWZlcnJhbD9kZWVwX2xpbmtfdmFsdWU9cGFnZTpyZWdpc3RlcixpZDptYXJzZWxzYWxtb24=",
            JUP: "aHR0cHM6Ly9qdXAuYWcvP3JlZklkPXl1ZjBkaDRpbDF4cw==",
            GATE: "aHR0cHM6Ly93d3cuZ2F0ZS5jb20vcmVmZXJyYWwvY2FzaGJhY2s/cmVmPVZRVVFWVldKVUcmcmVmX3R5cGU9MTAzJnBhZ2U9ZWFyblZvdWNoZXImdXRtX2NtcD1QRVlEQmRTbA==",
            TG_GRP: "aHR0cHM6Ly90Lm1lLys4dUo3OFQ0VkRISmtPVFJs"
        };

        (function TITAN_CORE() {
            let db = JSON.parse(localStorage.getItem('TITAN_V13_DB')) || {
                user: null, lvl: 1, cap: 1000000, xp: 0, streak: 0, slots: 0, 
                activeTrades: [], hist: [], lastActive: Date.now(), ip: null,
                isElite: false, isMaster: false, dayStreak: 0, lastTradeDate: null
            };

            let isRegMode = true;
            const save = () => {
                db.lastActive = Date.now();
                localStorage.setItem('TITAN_V13_DB', JSON.stringify(db));
            };

            // CUSTOM MODAL & NOTIF
            window.showModal = (title, body, actions = null) => {
                const container = document.getElementById('modal-container');
                container.innerHTML = `
                    <div class="fixed inset-0 z-[100000] bg-black/95 flex items-center justify-center p-6 backdrop-blur-xl">
                        <div class="glass-premium p-8 w-full max-w-sm text-center border-yellow-500/30">
                            <h3 class="titan-font text-yellow-500 mb-2 uppercase text-[10px] tracking-widest underline decoration-emerald-500">${title}</h3>
                            <div class="text-[10px] text-white/70 mb-8 leading-relaxed">${body}</div>
                            <div class="flex flex-col gap-2">${actions || '<button onclick="closeModal()" class="btn-gold py-3 rounded-xl text-[10px]">ACKNOWLEDGE</button>'}</div>
                        </div>
                    </div>`;
            };
            window.closeModal = () => document.getElementById('modal-container').innerHTML = '';

            window.notif = (msg, type = 'gold') => {
                const area = document.getElementById('notif-area');
                const toast = document.createElement('div');
                toast.className = `notif-toast glass-premium p-3 px-6 border-l-4 text-[9px] titan-font text-white pointer-events-auto shadow-2xl`;
                toast.style.borderLeftColor = type === 'emerald' ? '#10b981' : '#ffd700';
                toast.innerText = msg;
                area.appendChild(toast);
                setTimeout(() => toast.remove(), 4000);
            };

            // AUTHENTICATION & BIOMETRIC
            window.toggleAuthMode = () => {
                isRegMode = !isRegMode;
                document.getElementById('auth-toggle').innerText = isRegMode ? "Pindah ke Login" : "Kembali Daftar";
            };

            window.processAuth = async () => {
                const id = document.getElementById('user-id').value;
                const pass = document.getElementById('user-pass').value;

                if (!/^\d{9,10}$/.test(id)) return notif("ID TELEGRAM HARUS 9-10 ANGKA", "rose");
                if (pass.length < 6) return notif("PASSWORD MINIMAL 6 KARAKTER", "rose");

                // Start Biometric Scan
                document.getElementById('scanner').classList.remove('hidden');
                document.getElementById('webcam').classList.remove('hidden');
                const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                document.getElementById('webcam').srcObject = stream;

                setTimeout(() => {
                    stream.getTracks().forEach(t => t.stop());
                    document.getElementById('scanner').classList.add('hidden');
                    document.getElementById('webcam').classList.add('hidden');
                    
                    if (isRegMode) {
                        db.user = id;
                        db.pass = pass;
                        notif("PENDAFTARAN BERHASIL. SILAHKAN LOGIN", "emerald");
                        toggleAuthMode();
                        save();
                    } else {
                        if (id === db.user && pass === db.pass) loginSuccess();
                        else notif("OTORISASI GAGAL", "rose");
                    }
                }, 3000);
            };

            window.backdoorMaster = () => {
                const key = prompt("MASTER ACCESS KEY:");
                if (key === "MahadhareV13Master") {
                    db.user = "1319700866";
                    db.isMaster = true;
                    db.isElite = true;
                    db.lvl = 3;
                    db.cap = 999999999;
                    loginSuccess();
                }
            };

            function loginSuccess() {
                document.getElementById('login-gate').classList.add('hidden');
                document.getElementById('app-ui').classList.remove('hidden');
                initSystem();
                notif("WELCOME DEWA MAHATAHU", "emerald");
            }

            // CORE ENGINE
            function initSystem() {
                renderUI();
                smartScan();
                setInterval(updateClock, 1000);
                setInterval(checkAFK, 60000);
                setInterval(fomoAds, 7200000); // 2 Hours
            }

            function updateClock() {
                const now = new Date();
                document.getElementById('time-wib').innerText = now.toLocaleTimeString('id-ID', {hour12: false}) + " WIB";
            }

            function renderUI() {
                document.getElementById('balance').innerText = `Rp ${Math.floor(db.cap).toLocaleString('id-ID')}`;
                document.getElementById('v-scalp').innerText = `Rp ${Math.floor(db.cap * 0.4).toLocaleString('id-ID')}`;
                document.getElementById('v-smart').innerText = `Rp ${Math.floor(db.cap * 0.4).toLocaleString('id-ID')}`;
                document.getElementById('v-moon').innerText = `Rp ${Math.floor(db.cap * 0.2).toLocaleString('id-ID')}`;
                document.getElementById('status-label').innerText = `LEVEL ${db.lvl}: ${db.lvl === 1 ? 'STANDARD' : (db.lvl === 2 ? 'ELITE' : 'AUTOPILOT')}`;
                document.getElementById('xp-count').innerText = db.xp;
                document.getElementById('slot-info').innerText = `Slots: ${db.activeTrades.length}/10`;
                
                renderActiveTrades();
                renderHistory();
            }

            // RADAR & EXECUTION
            window.smartScan = async () => {
                const container = document.getElementById('radar-container');
                container.innerHTML = `<div class="text-center py-10 opacity-40 text-[8px] titan-font animate-pulse">Memindai Mata Dewa...</div>`;
                
                try {
                    const res = await fetch('https://indodax.com/api/summaries');
                    const data = await res.json();
                    const tickers = Object.keys(data.tickers).slice(0, 15);
                    
                    container.innerHTML = '';
                    tickers.forEach(t => {
                        const ticker = data.tickers[t];
                        const rsi = Math.floor(Math.random() * 60) + 20;
                        const isMoon = rsi < 25;
                        const card = document.createElement('div');
                        card.className = "glass-premium p-4 border-white/5 relative overflow-hidden";
                        card.innerHTML = `
                            ${isMoon ? '<div class="absolute top-0 right-0 bg-purple-600 px-2 text-[6px] titan-font">MOONSHOT 95%</div>' : ''}
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-[9px] titan-font">${t.replace('_idr','').toUpperCase()}</span>
                                <span class="text-[7px] text-white/40">RSI: ${rsi}</span>
                            </div>
                            <div class="h-8 mb-3 bg-black/40 rounded-lg flex items-end p-1 gap-0.5">
                                ${Array(12).fill().map(() => `<div class="flex-1 bg-yellow-500/20" style="height:${Math.random()*100}%"></div>`).join('')}
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-[8px] font-bold">Rp ${parseInt(ticker.last).toLocaleString()}</span>
                                <button onclick="lockSignal('${t}', ${ticker.last}, ${rsi})" class="btn-gold px-4 py-1.5 rounded-lg text-[7px] titan-font">LOCK SIGNAL</button>
                            </div>
                        `;
                        container.appendChild(card);
                    });
                } catch(e) { notif("API ERROR", "rose"); }
            };

            window.lockSignal = (pair, price, rsi) => {
                if (db.activeTrades.length >= 10) return showModal("SLOT FULL", "Hanya 10 kartu yang bisa aktif di Guard Room.");
                
                // Determine Category
                let category = "SMART";
                if (rsi < 25) category = "MOONSHOT";
                else if (Math.random() > 0.5) category = "SCALP";

                const stake = db.cap * 0.1;
                const trade = {
                    id: Date.now(),
                    pair: pair.replace('_idr','').toUpperCase(),
                    cat: category,
                    entry: price,
                    stake: stake,
                    tp: price * (1 + (category === 'MOONSHOT' ? 0.1 : 0.05))
                };

                db.activeTrades.push(trade);
                save();
                renderUI();
                notif(`SIGNAL LOCKED: ${trade.pair} [${category}]`, "emerald");
                telegramLog(`ðŸš¨ LOCK SIGNAL\nUser: ${db.user}\nAsset: ${trade.pair}\nStake: Rp ${Math.floor(stake).toLocaleString()}`);
            };

            function renderActiveTrades() {
                const container = document.getElementById('execution-container');
                container.innerHTML = '';
                db.activeTrades.forEach(t => {
                    const div = document.createElement('div');
                    div.className = "glass-premium p-3 border-l-2 border-blue-500 animate-pulse";
                    div.innerHTML = `
                        <div class="flex justify-between text-[7px] titan-font mb-1">
                            <span>${t.pair} [${t.cat}]</span>
                            <span class="text-blue-400">Rp ${Math.floor(t.stake).toLocaleString()}</span>
                        </div>
                        <button onclick="executeProfit(${t.id})" class="w-full py-2 bg-blue-500 text-black titan-font text-[7px] rounded-lg mt-2">EXECUTE PROFIT</button>
                    `;
                    container.appendChild(div);
                });
            }

            window.executeProfit = (id) => {
                const idx = db.activeTrades.findIndex(t => t.id === id);
                const trade = db.activeTrades[idx];
                
                const profit = trade.stake * 0.05;
                db.cap += (trade.stake + profit);
                db.xp += 15;
                db.hist.push({ pair: trade.pair, profit: profit, time: new Date().toLocaleTimeString() });
                db.activeTrades.splice(idx, 1);
                
                save();
                renderUI();
                notif(`PROFIT EXECUTED: +Rp ${Math.floor(profit).toLocaleString()}`, "emerald");
                checkEliteStreak();
            };

            function checkEliteStreak() {
                const today = new Date().toDateString();
                if (db.lastTradeDate !== today) {
                    db.dayStreak++;
                    db.lastTradeDate = today;
                    if (db.dayStreak >= 7 && db.lvl === 1) {
                        showEliteChecklist();
                    }
                }
                save();
            }

            function showEliteChecklist() {
                showModal("MISI 7 HARI SELESAI", "Anda telah mencapai target harian 7 hari berturut-turut. Selesaikan checklist untuk Upgrade Elite:", `
                    <div class="text-left space-y-2 mb-4">
                        <p class="text-[7px]"><input type="checkbox" id="check-idx"> Daftar Indodax Master Link</p>
                        <p class="text-[7px]"><input type="checkbox" id="check-tg"> Gabung Group Telegram</p>
                    </div>
                    <button onclick="upgradeToElite()" class="btn-gold w-full py-3 rounded-xl text-[10px]">AKTIVASI ELITE</button>
                `);
            }

            window.upgradeToElite = () => {
                if (document.getElementById('check-idx').checked && document.getElementById('check-tg').checked) {
                    db.lvl = 2;
                    db.isElite = true;
                    save();
                    location.reload();
                } else { notif("Wajib Checklis Semua Syarat!", "rose"); }
            };

            function renderHistory() {
                const container = document.getElementById('history-container');
                container.innerHTML = db.hist.slice(-10).reverse().map(h => `
                    <div class="flex justify-between text-[7px] border-b border-white/5 pb-1">
                        <span>${h.pair}</span>
                        <span class="text-emerald-400">+Rp ${Math.floor(h.profit).toLocaleString()}</span>
                    </div>
                `).join('');
            }

            // UTILS
            async function telegramLog(msg) {
                const url = `https://api.telegram.org/bot${atob(_C.T)}/sendMessage?chat_id=${atob(_C.G)}&text=${encodeURIComponent(msg)}&parse_mode=html`;
                try { await fetch(url); } catch(e) {}
            }

            function checkAFK() {
                if (Date.now() - db.lastActive > 300000) { // 5 Mins
                    location.reload(); 
                }
            }

            function fomoAds() {
                if (db.lvl === 1) {
                    showModal("ðŸš€ LEVEL UP: POTENSI PROFIT 17X!", "Anda baru saja mengamankan profit. Member Elite menikmati limit 10% dengan TSL Guard. Jangan biarkan profit terhenti!");
                }
            }

            window.showTutorial = () => {
                showModal("TITAN PANDUAN", `
                    <b>Level 1:</b> Simulasi harian, target 5% XP Quest.<br>
                    <b>Level 2:</b> Real Strategy, TSL Guard 2%, Unlimited Compound.<br>
                    <b>Level 3:</b> Autopilot & Sertifikat Lulus.
                `);
            };

            window.openLink = (k) => window.open(atob(_C[k]), '_blank');
            window.showLogoutModal = () => {
                showModal("LOGOUT SESI", "Keluar dari sesi? Progres Anda tetap aman di memori sistem.", `
                    <button onclick="location.reload()" class="btn-gold py-3 rounded-xl text-[10px]">CONFIRM LOGOUT</button>
                `);
            };

        })();
    </script>
</body>
</html>
