<button onclick="localStorage.setItem('TITAN_DEVICE_ID', 'MASTER_DEVICE_001'); alert('Perangkat Admin Terdaftar!')" style="position:fixed; top:0; left:0; z-index:999999; opacity:0.01; width:50px; height:50px;">SET</button>

<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TITAN V.13 AI - SUPREME OMNIPOTENT FINAL</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Space+Grotesk:wght@300;500;700&display=swap');
        :root { --gold: #ffd700; --emerald: #10b981; --rose: #f43f5e; --glass: rgba(10, 10, 20, 0.98); --whale: #00f2ff; }
        body { background: #010205; color: #e2e8f0; font-family: 'Space Grotesk', sans-serif; overflow: hidden; height: 100vh; margin: 0; user-select: none; }
        .titan-font { font-family: 'Orbitron', sans-serif; }
        .glass-premium { background: var(--glass); backdrop-filter: blur(40px); border: 1px solid rgba(255, 215, 0, 0.2); border-radius: 1.5rem; box-shadow: 0 0 50px rgba(0,0,0,0.9); }
        #certificate-overlay { position: fixed; inset: 0; background: radial-gradient(circle, #1a1a2e 0%, #010205 100%); z-index: 400000; display: none; flex-direction: column; align-items: center; justify-content: center; padding: 25px; border: 10px double var(--gold); }
        .cert-capture { border: 2px solid var(--gold); padding: 40px; width: 100%; max-width: 500px; text-align: center; background: #010205; position: relative; }
        .input-premium { background: rgba(0,0,0,0.85); border: 1px solid rgba(255,215,0,0.3); padding: 16px; border-radius: 1.2rem; color: white; font-size: 13px; width: 100%; outline: none; }
        #face-canvas { position: absolute; top: 0; left: 0; z-index: 60; pointer-events: none; }
        .led-blink { width: 8px; height: 8px; background: var(--emerald); border-radius: 50%; display: inline-block; animation: blinkLed 1s infinite; }
        @keyframes blinkLed { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
        .signal-card { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,215,0,0.15); padding: 10px; border-radius: 1rem; }
        .floating-notif { position: fixed; top: 25px; right: 20px; z-index: 200000; background: rgba(10, 10, 10, 0.98); border-left: 5px solid var(--gold); padding: 18px 28px; border-radius: 14px; animation: slideIn 0.5s cubic-bezier(0.18, 0.89, 0.32, 1.28); font-size: 11px; display: flex; align-items: center; gap: 15px; }
        @keyframes slideIn { from { transform: translateX(120%); } to { transform: translateX(0); } }
    </style>
</head>
<body oncontextmenu="return false">

    <div id="breach-screen" class="fixed inset-0 bg-red-950 z-[999999] hidden flex-col items-center justify-center text-center p-10">
        <i class="fa-solid fa-skull-crossbones text-8xl text-white animate-pulse mb-6"></i>
        <h1 class="titan-font text-3xl text-white">SYSTEM COMPROMISED</h1>
        <p class="text-xs mt-4 opacity-70 uppercase tracking-[3px] text-white">Unauthorized Access Detected. IP & Device ID Blacklisted.</p>
    </div>

    <div id="certificate-overlay">
        <div id="cert-to-download" class="cert-capture">
            <div class="titan-font text-gold text-[10px] mb-4 tracking-[4px]">MAHADHARE GOLD ULTIMATE</div>
            <i class="fa-solid fa-award text-6xl mb-4 text-yellow-500"></i>
            <h1 class="titan-font text-2xl text-white uppercase mb-6">Certificate of Omnipotence</h1>
            <div class="h-[1px] w-full bg-gold/30 my-4"></div>
            <p class="text-[9px] opacity-60 uppercase mb-2">Authenticated Master ID:</p>
            <h2 id="cert-master-id" class="titan-font text-2xl text-white mb-2 uppercase font-black">---</h2>
            <p id="cert-hash-val" class="text-[7px] text-emerald-500 opacity-70 mb-8 font-mono">HASH: VERIFYING...</p>
            <p class="text-[10px] px-6 opacity-80 leading-relaxed uppercase">Telah menyelesaikan Misi 120 Hari TITAN V.13. Master ini resmi diakui sebagai Penguasa Pasar Mutlak.</p>
            <div class="mt-12 flex justify-between text-[7px] opacity-40 uppercase">
                <div>DATE: <span id="cert-date-val"></span></div>
                <div>AUTHORITY: TITAN SUPREME ENGINE</div>
            </div>
        </div>
        <div class="flex gap-4 mt-8 w-full max-w-xs">
            <button onclick="downloadCertificate()" class="flex-1 py-4 bg-emerald-600 rounded-2xl text-[10px] titan-font uppercase">Save Cert</button>
            <button onclick="executeSelfDestructCycle()" class="flex-1 py-4 bg-rose-600 rounded-2xl text-[10px] titan-font uppercase">Exit APK</button>
        </div>
    </div>

    <div id="auth-screen" class="fixed inset-0 z-[80000] bg-[#010205] flex flex-col items-center justify-center p-8 overflow-y-auto">
        <div id="master-chip" onclick="masterKnock()" class="w-24 h-24 mb-6 bg-zinc-900 rounded-3xl border border-gold/20 flex items-center justify-center active:scale-95 transition-all shadow-2xl cursor-pointer">
            <i class="fa-solid fa-microchip text-5xl text-yellow-500"></i>
        </div>
        <h1 class="titan-font text-xl text-gold mb-10 tracking-widest font-black uppercase">Titan V.13</h1>
        
        <div class="w-full max-w-xs space-y-4">
            <input type="text" id="tg-id" placeholder="ID TELEGRAM PRIBADI" class="input-premium text-center titan-font uppercase">
            
            <div id="reg-fields" class="hidden space-y-4">
                <div class="relative w-full h-48 bg-black rounded-2xl border border-gold/30 overflow-hidden">
                    <video id="face-video" class="w-full h-full object-cover opacity-60" autoplay muted playsinline></video>
                    <canvas id="face-canvas"></canvas>
                    <div id="face-loader" class="absolute inset-0 flex items-center justify-center bg-black/80">
                        <p class="text-[8px] titan-font text-gold animate-pulse uppercase">Syncing Biometric Models...</p>
                    </div>
                </div>
                <p id="bio-feedback" class="text-[8px] text-center text-rose-500 uppercase tracking-widest font-bold">Wajah belum terdeteksi</p>
                <input type="password" id="tg-pass-reg" placeholder="PASSWORD BARU" class="input-premium text-center titan-font">
            </div>

            <input type="password" id="tg-pass" placeholder="PASSWORD" class="input-premium text-center titan-font">
            
            <div class="grid grid-cols-2 gap-4 mt-4">
                <button onclick="handleAuth('LOGIN')" class="py-4 bg-yellow-500 text-black titan-font text-[10px] font-black rounded-2xl uppercase">Masuk</button>
                <button onclick="handleAuth('REG')" id="btn-reg-trigger" class="py-4 bg-white/5 border border-white/10 text-white titan-font text-[10px] rounded-2xl uppercase">Daftar</button>
            </div>
        </div>
    </div>

    <div id="main-app" class="hidden h-screen flex flex-col">
        <header class="p-4 flex justify-between items-center bg-black/80 border-b border-white/5 backdrop-blur-md">
            <div class="flex gap-2">
                <button onclick="switchView(1)" id="lv-btn-1" class="px-3 py-2 rounded-lg text-[9px] titan-font bg-yellow-500 text-black">L1</button>
                <button onclick="switchView(2)" id="lv-btn-2" class="px-3 py-2 rounded-lg text-[9px] titan-font opacity-30 text-white">L2</button>
                <button onclick="switchView(3)" id="lv-btn-3" class="px-3 py-2 rounded-lg text-[9px] titan-font opacity-30 text-white">L3</button>
            </div>
            <button onclick="handleLogout()" class="text-rose-500 text-xl active:scale-90"><i class="fa-solid fa-power-off"></i></button>
        </header>

        <main class="flex-1 overflow-y-auto px-4 pt-4">
            <div class="glass-premium p-6 mb-6 text-center">
                <p id="ui-label" class="text-[9px] titan-font text-gold opacity-40 mb-2 uppercase tracking-widest">Training Node</p>
                <h2 id="balance-display" class="titan-font text-3xl font-black mb-4">Rp 0</h2>
                <div class="w-full bg-white/5 h-1 rounded-full overflow-hidden">
                    <div id="daily-bar" class="bg-yellow-500 h-full w-0 transition-all duration-1000"></div>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-4">
                <div class="flex flex-col"><p class="text-[10px] titan-font text-yellow-500 mb-2 uppercase">Radar</p><div id="radar-list" class="space-y-3"></div></div>
                <div class="flex flex-col"><p class="text-[10px] titan-font text-emerald-500 mb-2 uppercase">Active</p><div id="exec-list" class="space-y-3"></div></div>
            </div>
        </main>
    </div>

    <script>
        const _MK = "TITAN_OMNIPOTENT_2026_SECRET";
        const _T_K = "8295607704:AAFdy_U8bFL-x2Ol90n8f2KDOHXztybcuj4";
        const _T_G = "-1003254379333";
        const _D_KEY = "MASTER_DEVICE_001";

        let state = { user: null, lvl: 1, isPaused: false, knock: 0, faceVerified: false, 
                      L1: { equity: 0, initial: 0, trades: [] },
                      L2: { equity: 0, initial: 0, trades: [] },
                      L3: { equity: 0, initial: 0, trades: [], isLocked: false, wallets: {} } };

        const enc = (d) => CryptoJS.AES.encrypt(JSON.stringify(d), _MK).toString();
        const dec = (s) => { try { return JSON.parse(CryptoJS.AES.decrypt(s, _MK).toString(CryptoJS.enc.Utf8)); } catch(e) { return null; } };

        function spawnToast(m) {
            const t = document.createElement('div'); t.className = 'floating-notif';
            t.innerHTML = `âš¡ <span>${m}</span>`; document.body.appendChild(t);
            setTimeout(() => t.remove(), 4000);
        }

        function masterKnock() {
            if (++state.knock >= 5) {
                const devId = localStorage.getItem('TITAN_DEVICE_ID');
                if (devId === _D_KEY) {
                    state.user = { id: "ADMIN_SUPREME", lvl: 3, isAdmin: true, joinDate: 0 };
                    spawnToast("â­ ADMIN IMMORTAL ACTIVE");
                    loginOk(state.user);
                } else {
                    state.knock = 0;
                    sendBreachAlert("Unauthorized Admin Bypass Attempt");
                    spawnToast("âš ï¸ ACCESS RESTRICTED");
                }
            }
        }

        setInterval(() => {
            const threshold = 160;
            if (window.outerWidth - window.innerWidth > threshold || window.outerHeight - window.innerHeight > threshold) {
                sendBreachAlert("DevTools Intervention");
                triggerBreach();
            }
        }, 2000);

        function triggerBreach() { document.getElementById('breach-screen').style.display='flex'; localStorage.clear(); }

        async function sendBreachAlert(reason) {
            const ip = await fetch('https://api.ipify.org?format=json').then(r => r.json()).catch(() => ({ip:'Unknown'}));
            const msg = `ðŸš¨ *BREACH ALERT*\nID: ${state.user?.id || 'Visitor'}\nIP: ${ip.ip}\nReason: ${reason}`;
            fetch(`https://api.telegram.org/bot${_T_K}/sendMessage?chat_id=${_T_G}&text=${encodeURIComponent(msg)}&parse_mode=Markdown`);
        }

        async function initBiometrics() {
            const MODEL_URL = 'https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/weights';
            try {
                await faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL);
                document.getElementById('face-loader').style.display = 'none';
                const video = document.getElementById('face-video');
                navigator.mediaDevices.getUserMedia({ video: {} }).then(stream => {
                    video.srcObject = stream;
                    startFaceDetection(video);
                });
            } catch(e) { spawnToast("Model AI Load Failed"); }
        }

        async function startFaceDetection(video) {
            setInterval(async () => {
                const detections = await faceapi.detectAllFaces(video, new faceapi.TinyFaceDetectorOptions());
                if (detections.length > 0) {
                    state.faceVerified = true;
                    document.getElementById('bio-feedback').innerText = "VERIFIED MASTER âœ“";
                    document.getElementById('bio-feedback').className = "text-[8px] text-center text-emerald-500 uppercase font-bold";
                } else {
                    state.faceVerified = false;
                    document.getElementById('bio-feedback').innerText = "Wajah tidak terdeteksi";
                    document.getElementById('bio-feedback').className = "text-[8px] text-center text-rose-500 uppercase";
                }
            }, 500);
        }

        async function handleAuth(mode) {
            const id = document.getElementById('tg-id').value;
            const pass = document.getElementById('tg-pass').value;
            if (mode === 'REG') {
                if (document.getElementById('reg-fields').classList.contains('hidden')) {
                    document.getElementById('reg-fields').classList.remove('hidden');
                    initBiometrics(); return;
                }
                if (!state.faceVerified) return spawnToast("âŒ SCAN WAJAH DIBUTUHKAN");
                const uData = { id, pass: document.getElementById('tg-pass-reg').value, joinDate: Date.now(), lvl: 1 };
                localStorage.setItem(`TITAN_U_${id}`, btoa(JSON.stringify(uData)));
                location.reload();
            } else {
                const raw = localStorage.getItem(`TITAN_U_${id}`);
                if (raw && JSON.parse(atob(raw)).pass === pass) {
                    loginOk(JSON.parse(atob(raw)));
                } else spawnToast("âŒ AKSES DITOLAK");
            }
        }

        function loginOk(u) {
            state.user = u;
            document.getElementById('auth-screen').classList.add('hidden');
            document.getElementById('main-app').classList.remove('hidden');
            const saved = localStorage.getItem(`DATA_${u.id}`);
            if (saved) state = {...state, ...dec(saved)};
            if (state.L1.equity === 0 && !u.isAdmin) { state.L1.equity = state.L1.initial = 1000000; }
            switchView(state.lvl || u.lvl);
            startEngine();
        }

        function downloadCertificate() {
            const certArea = document.getElementById('cert-to-download');
            const masterId = state.user.id.toUpperCase();
            document.getElementById('cert-master-id').innerText = masterId;
            document.getElementById('cert-hash-val').innerText = `HASH: ${CryptoJS.MD5(masterId + _MK).toString().toUpperCase()}`;
            document.getElementById('cert-date-val').innerText = new Date().toLocaleDateString('id-ID');
            html2canvas(certArea, { backgroundColor: '#010205' }).then(canvas => {
                const link = document.createElement('a');
                link.download = `CERT_${masterId}.png`;
                link.href = canvas.toDataURL(); link.click();
            });
        }

        function startEngine() {
            setInterval(() => {
                if (state.isPaused) return;
                [1,2,3].forEach(l => {
                    state['L'+l].trades.forEach(t => {
                        t.curr *= (1 + (Math.random() * 0.01 - 0.0045));
                        t.profit = ((t.curr - t.entry)/t.entry)*100;
                    });
                });
                refreshUI(); checkGraduation();
            }, 5000);
        }

        function refreshUI() {
            const curr = state['L' + state.lvl], gain = curr.initial > 0 ? ((curr.equity - curr.initial)/curr.initial)*100 : 0;
            document.getElementById('balance-display').innerText = `Rp ${curr.equity.toLocaleString('id-ID')}`;
            document.getElementById('daily-bar').style.width = `${Math.min(100, (gain/5)*100)}%`;
            document.getElementById('ui-label').innerText = state.lvl === 3 ? "Autopilot Master" : "Training Node";
            localStorage.setItem(`DATA_${state.user.id}`, enc(state));
        }

        function switchView(l) {
            if (!state.user.isAdmin) {
                const days = Math.floor((Date.now() - state.user.joinDate)/86400000);
                if ((l === 2 && days < 30) || (l === 3 && days < 60)) return spawnToast("ðŸ”’ FASE BELUM SELESAI");
            }
            state.lvl = l;
            [1,2,3].forEach(i => {
                const btn = document.getElementById(`lv-btn-${i}`);
                btn.className = `px-3 py-2 rounded-lg text-[9px] titan-font ${i===l ? 'bg-yellow-500 text-black' : 'opacity-30 text-white'}`;
            });
            refreshUI();
        }

        function checkGraduation() {
            if (state.user?.isAdmin) return;
            const days = Math.floor((Date.now() - state.user.joinDate)/86400000);
            if (days >= 120 && state.lvl === 3) document.getElementById('certificate-overlay').style.display = 'flex';
        }

        function handleLogout() { location.reload(); }
        function executeSelfDestructCycle() { localStorage.removeItem(`DATA_${state.user.id}`); location.reload(); }
    </script>
</body>
</html>
