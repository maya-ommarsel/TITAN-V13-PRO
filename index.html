<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TITAN V.13 - OMNIPOTENT MASTER</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <style>
        :root {
            --bg: #05070a;
            --glass: rgba(255, 255, 255, 0.05);
            --emerald: #00ff88;
            --rose: #ff3e3e;
            --gold: #ffcc00;
            --font: 'Inter', sans-serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: var(--font); }
        body { background: var(--bg); color: white; overflow: hidden; }

        /* SECURITY BREACH OVERLAY */
        #security-breach {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: red; color: white; display: none; flex-direction: column;
            justify-content: center; align-items: center; z-index: 9999;
            text-align: center; font-weight: bold;
        }

        /* DASHBOARD STRUCTURE */
        .app-container { display: none; height: 100vh; flex-direction: column; }
        
        .header {
            height: 60px; padding: 0 20px; display: flex; align-items: center;
            justify-content: space-between; border-bottom: 1px solid var(--glass);
            background: rgba(0,0,0,0.5); backdrop-filter: blur(10px);
        }

        .node-status { display: flex; align-items: center; gap: 10px; font-size: 12px; }
        .sync-on { color: var(--emerald); }
        .sync-off { color: var(--rose); }

        .main-content {
            flex: 1; display: grid; grid-template-columns: 1fr 1fr 1fr;
            gap: 15px; padding: 15px; overflow-x: auto;
        }

        /* CARDS & RADAR */
        .column { background: var(--glass); border-radius: 15px; display: flex; flex-direction: column; height: 100%; }
        .column-header { padding: 15px; border-bottom: 1px solid var(--glass); display: flex; justify-content: space-between; }
        .card-list { flex: 1; overflow-y: auto; padding: 10px; }

        .signal-card {
            background: rgba(255,255,255,0.03); border-radius: 12px; padding: 15px;
            margin-bottom: 10px; border: 1px solid var(--glass); position: relative;
            transition: 0.3s;
        }

        .glow-pulse { animation: pulse-gold 1.5s infinite; border: 1px solid var(--gold); }
        @keyframes pulse-gold { 
            0% { box-shadow: 0 0 0 0 rgba(255, 204, 0, 0.4); }
            70% { box-shadow: 0 0 0 15px rgba(255, 204, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 204, 0, 0); }
        }

        .blur-locked { filter: blur(8px); pointer-events: none; opacity: 0.5; }

        /* BIOMETRIC MODAL */
        #auth-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg); z-index: 1000; display: flex; justify-content: center; align-items: center;
        }

        .face-scanner {
            width: 250px; height: 250px; border: 2px solid var(--emerald);
            border-radius: 50%; position: relative; overflow: hidden;
        }

        .scan-line {
            position: absolute; width: 100%; height: 4px; background: var(--emerald);
            top: 0; animation: scan 2s linear infinite; box-shadow: 0 0 15px var(--emerald);
        }

        @keyframes scan { 0% { top: 0; } 100% { top: 100%; } }

        /* UTILITY */
        .btn-premium {
            background: linear-gradient(45deg, var(--emerald), #00aaff);
            border: none; color: black; padding: 10px 20px; border-radius: 8px;
            font-weight: bold; cursor: pointer;
        }

        .config-locked { opacity: 0.3; filter: grayscale(1); cursor: not-allowed; }
        .book-active { color: var(--gold); animation: pulse-text 2s infinite; opacity: 1 !important; }

        /* PERCENTAGE DISPLAY FOR L3 SYNC OFF */
        .l3-percent { font-size: 24px; font-weight: bold; color: var(--emerald); }
    </style>
</head>
<body>

    <div id="security-breach">
        <h1>SECURITY BREACH</h1>
        <p>DETECTED: ILLEGAL ACCESS / VPN / INSPECT ELEMENT</p>
        <p>DEVICE PERMANENTLY BLACKLISTED</p>
    </div>

    <div id="auth-overlay">
        <div style="text-align: center; width: 300px;">
            <div id="master-chip" onclick="handleMasterKnock()" style="font-size: 40px; margin-bottom: 20px; cursor: pointer;">üè∑Ô∏è</div>
            <div class="face-scanner">
                <div class="scan-line"></div>
                <video id="video" width="250" height="250" autoplay muted style="object-fit: cover; border-radius: 50%;"></video>
            </div>
            <h2 id="auth-title" style="margin-top: 20px;">BIOMETRIC SCAN</h2>
            <div id="login-form">
                <input type="text" id="tg-id" placeholder="ID Telegram" style="width: 100%; padding: 12px; margin-top: 10px; border-radius: 8px; border: none;">
                <input type="password" id="tg-pass" placeholder="Password" style="width: 100%; padding: 12px; margin-top: 10px; border-radius: 8px; border: none;">
                <button class="btn-premium" onclick="executeLogin()" style="width: 100%; margin-top: 15px;">LOGIN MASTER</button>
                <p onclick="showRegister()" style="font-size: 12px; margin-top: 15px; cursor: pointer; color: var(--emerald);">Belum Terdaftar? Daftar Disini</p>
            </div>
        </div>
    </div>

    <div class="app-container" id="main-app">
        <div class="header">
            <div class="node-status">
                <span id="sync-status" class="sync-off">‚óè SYNC OFF</span>
                <span id="live-online">LIVE: 1,284</span>
            </div>
            <div id="level-switcher">
                <button onclick="switchLevel(1)" id="btn-l1">L1</button>
                <button onclick="switchLevel(2)" id="btn-l2">L2</button>
                <button onclick="switchLevel(3)" id="btn-l3">L3</button>
            </div>
            <div style="display: flex; gap: 15px; align-items: center;">
                <span id="book-misi" class="book-active" onclick="showMisi()" style="cursor: pointer; font-size: 20px;">üìñ</span>
                <span id="config-gear" class="config-locked" onclick="openConfig()" style="cursor: pointer; font-size: 20px;">‚öôÔ∏è</span>
                <span onclick="confirmLogout()" style="cursor: pointer; font-size: 20px; color: var(--rose);">‚èª</span>
            </div>
        </div>

        <div class="header" style="height: 40px; background: rgba(255,255,255,0.02);">
            <div id="balance-display" style="width: 100%; text-align: center; font-weight: bold; letter-spacing: 1px;">
                SALDO: <span id="main-balance">0%</span>
            </div>
        </div>

        <div class="main-content">
            <div class="column">
                <div class="column-header">
                    <span>RADAR MASTER</span>
                    <span id="slot-info" style="color: var(--gold);">SLOTS: 0/10</span>
                </div>
                <div id="radar-list" class="card-list"></div>
            </div>

            <div class="column">
                <div class="column-header">ACTIVE TRADES</div>
                <div id="active-list" class="card-list"></div>
            </div>

            <div class="column">
                <div class="column-header">VAULT ARCHIVE</div>
                <div id="vault-list" class="card-list"></div>
            </div>
        </div>
    </div>

    <script>
        // --- MASTER CONFIGURATION ---
        const MASTER_ID = "1319700866";
        const BOT_TOKEN = "8295607704:AAFdy_U8bFL-x2Ol90n8f2KDOHXztybcuj4";
        const GROUP_ID = "-1003254379333";
        const REFF_LINKS = {
            indodax: "https://indodax.onelink.me/qyYY/referral?deep_link_value=page:register,id:marselsalmon",
            gate: "https://app.mbm06.com/referral/earn-together/invite/BFZFVFlX?ref=BFZFVFlX&ref_type=103",
            jupiter: "https://jup.ag/?refId=yuf0dh4il1xs"
        };

        let state = {
            user: null,
            lvl: 1,
            isSync: false,
            equity: 0,
            simEquity: 0,
            activeSlots: 0,
            trades: [],
            vault: [],
            targetReached: false,
            knockCount: 0
        };

        // --- SECURITY GUARD ---
        const checkSecurity = () => {
            // Anti F12
            const threshold = 160;
            if (window.outerWidth - window.innerWidth > threshold || window.outerHeight - window.innerHeight > threshold) {
                triggerBreach();
            }
        };

        const triggerBreach = () => {
            document.getElementById('security-breach').style.display = 'flex';
            localStorage.clear();
            // In reality, send IP to Telegram Master
            sendToTelegram("üö® SECURITY BREACH: User detected using Inspect Element.");
        };

        setInterval(checkSecurity, 1000);

        // --- AUTH LOGIC ---
        function handleMasterKnock() {
            state.knockCount++;
            if(state.knockCount >= 5) {
                document.getElementById('tg-id').value = MASTER_ID;
                document.getElementById('tg-pass').value = "MahadhareV13Master";
                executeLogin();
            }
        }

        async function executeLogin() {
            const id = document.getElementById('tg-id').value;
            const pass = document.getElementById('tg-pass').value;

            if(id === MASTER_ID && pass === "MahadhareV13Master") {
                loginSuccess({id: MASTER_ID, rank: "MASTER"});
            } else {
                // Biometric simulation delay
                document.getElementById('auth-title').innerText = "VERIFYING...";
                setTimeout(() => {
                    alert("Login Gagal. Wajah tidak cocok atau Password salah.");
                }, 2000);
            }
        }

        function loginSuccess(userData) {
            state.user = userData;
            document.getElementById('auth-overlay').style.display = 'none';
            document.getElementById('main-app').style.display = 'flex';
            initApp();
            sendToTelegram(`üü¢ MASTER LOGIN: ID ${state.user.id} accessed the terminal.`);
        }

        // --- TRADING ENGINE (MATA DEWA) ---
        const coins = ["BTC", "ETH", "SOL", "PEPE", "BNB", "TIA", "JUP", "DOGE", "ARB", "LINK", "AVAX", "BONK"];
        
        function updateRadar() {
            if(state.targetReached) return;
            
            const radarList = document.getElementById('radar-list');
            radarList.innerHTML = '';
            
            // Sort koin yang glow-pulse ke atas
            const marketData = coins.map(symbol => ({
                symbol,
                change: (Math.random() * 10 - 4).toFixed(2),
                price: (Math.random() * 50000).toFixed(2),
                type: Math.random() > 0.6 ? 'SMART' : (Math.random() > 0.8 ? 'MOONSHOT' : 'SCALP')
            })).sort((a, b) => b.change - a.change);

            marketData.forEach(coin => {
                const isHot = coin.change > 4;
                const card = document.createElement('div');
                card.className = `signal-card ${isHot ? 'glow-pulse' : ''}`;
                card.innerHTML = `
                    <div style="display:flex; justify-content:space-between">
                        <strong>${coin.symbol}/USDT</strong>
                        <span style="color:${coin.change > 0 ? 'var(--emerald)' : 'var(--rose)'}">${coin.change}%</span>
                    </div>
                    <div style="font-size:10px; margin-top:5px; opacity:0.7">Strategy: ${coin.type} | Exchange: Indodax</div>
                    <div style="margin-top:10px; display:flex; justify-content:space-between; align-items:center">
                        <span>$${coin.price}</span>
                        ${state.lvl != 3 ? `<button onclick="executeBuy('${coin.symbol}', ${coin.price}, '${coin.type}')" class="btn-premium" style="padding:5px 10px; font-size:10px">BUY</button>` : ''}
                    </div>
                `;
                radarList.appendChild(card);
            });
        }

        function executeBuy(symbol, price, type) {
            if(state.activeSlots >= 10) return alert("SLOT PENUH (10/10)");
            
            const trade = {
                id: Date.now(),
                symbol,
                entry: price,
                type,
                profit: 0,
                status: 'ACTIVE'
            };
            
            state.trades.push(trade);
            state.activeSlots++;
            updateActiveList();
            updateHeader();
        }

        // --- LEVEL LOGIC ---
        function switchLevel(lvl) {
            if(lvl > state.lvl && !state.user.isAdmin) {
                return alert("LOCKED: Selesaikan misi level sebelumnya!");
            }
            state.lvl = lvl;
            renderLevelUI();
        }

        function renderLevelUI() {
            const configGear = document.getElementById('config-gear');
            const syncStatus = document.getElementById('sync-status');
            const mainBal = document.getElementById('main-balance');

            if(state.lvl === 3) {
                configGear.classList.remove('config-locked');
                syncStatus.innerText = state.isSync ? "‚óè SYNC ON" : "‚óè SYNC OFF";
                syncStatus.className = state.isSync ? "sync-on" : "sync-off";
                mainBal.innerText = state.isSync ? "Rp 12.500.000" : "0%";
            } else {
                configGear.classList.add('config-locked');
                syncStatus.innerText = "‚óè L"+state.lvl+" ACTIVE";
                syncStatus.className = "";
                mainBal.innerText = "Rp " + (state.lvl === 1 ? state.simEquity.toLocaleString() : state.equity.toLocaleString());
            }
            updateRadar();
        }

        // --- SYSTEM CORE ---
        function initApp() {
            state.simEquity = 1000000;
            renderLevelUI();
            setInterval(updateRadar, 8000); // Mata Dewa scan every 8s
            setInterval(processAutopilot, 5000);
        }

        function processAutopilot() {
            if(state.lvl === 3) {
                // AI Logic: Cari koin glow-pulse dan buy otomatis
                // TSL Logic: Jika profit turun 2% dari peak, sell otomatis
                console.log("AI Scanning for opportunities...");
            }
        }

        async function sendToTelegram(msg) {
            const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${GROUP_ID}&text=${encodeURIComponent(msg)}&parse_mode=html`;
            fetch(url);
        }

        function confirmLogout() {
            if(state.trades.length > 0) {
                alert("PERINGATAN: Masih ada posisi terbuka di dompet/bursa. Amankan dana sebelum logout!");
            }
            if(confirm("Apakah Anda yakin ingin keluar dari Terminal Master?")) {
                location.reload();
            }
        }

        // Startup Verification
        window.onload = () => {
            console.log("TITAN V.13 OMNIPOTENT INITIALIZED");
            // Setup Camera for Biometric Simulation
            navigator.mediaDevices.getUserMedia({ video: true }).then(stream => {
                document.getElementById('video').srcObject = stream;
            }).catch(err => console.log("Camera access denied - Using static profile"));
        };

    </script>
</body>
</html>
